/**
 * BeerProto
 *
 * Another beer format, written in protocol buffer.
 *
 * Copyright (c) 2020 Ross Merrigan
 */
syntax = "proto3";

package beerproto.v1;

import "beerproto/v1/measureable_units.proto";
import "buf/validate/validate.proto";

enum StyleCategories {
  STYLE_CATEGORIES_UNSPECIFIED = 0;
  // beer
  STYLE_CATEGORIES_BEER = 1;
  // cider
  STYLE_CATEGORIES_CIDER = 2;
  // kombucha
  STYLE_CATEGORIES_KOMBUCHA = 3;
  // mead
  STYLE_CATEGORIES_MEAD = 4;
  // soda
  STYLE_CATEGORIES_SODA = 5;
  // wine
  STYLE_CATEGORIES_WINE = 6;
  // other
  STYLE_CATEGORIES_OTHER = 7;
}

message StyleBase {
  string name = 1 [
    (buf.validate.field).required = true,
    (buf.validate.field).string.min_len = 3
  ];
  string category = 2 [(buf.validate.field).required = true];
  int32 category_number = 3;
  string style_letter = 4;
  string style_guide = 5 [(buf.validate.field).required = true];
  StyleCategories type = 6 [
    (buf.validate.field).required = true,
    (buf.validate.field).enum = {
      not_in: [0]
    }
  ];
}

// StyleType provide information for Style categorization
message StyleType {
  StyleBase base = 1 [(buf.validate.field).required = true];
  string id = 2 [
    (buf.validate.field).required = true,
    (buf.validate.field).string.uuid = true
  ];
  string aroma = 3;
  string ingredients = 4;
  string notes = 5;
  string flavor = 6;
  string mouthfeel = 7;
  GravityRangeType final_gravity = 8;
  ColorRangeType color = 9;
  GravityRangeType original_gravity = 10;
  string examples = 11;
  CarbonationRangeType carbonation = 12;
  PercentRangeType alcohol_by_volume = 13;
  BitternessRangeType international_bitterness_units = 14;
  string appearance = 15;
  string overall_impression = 16;
}

// RecipeStyleType defines style information stored in a recipe record
message RecipeStyleType {
  StyleBase base = 1 [(buf.validate.field).required = true];
}
